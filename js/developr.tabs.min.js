(function(d,j,r){j=d(j);var e=!1;d(r).on("click",".tabs > li > a",function(a){var b=d(this),c=b.parent();this.href&&!(0>this.href.indexOf("#"))&&(a.preventDefault(),c.hasClass("disabled")||(c.addClass("active").closest(".standard-tabs, .swipe-tabs, .side-tabs").addClass("tabs-animated tab-opened"),c.siblings(".active").removeClass("active"),b.refreshTabs()))});d.fn.refreshInnerTabs=function(){d(this.find(".standard-tabs, .swipe-tabs, .side-tabs").get().reverse()).refreshTabs();return this};d.fn.refreshTabs=
function(){var a=d(),b;this.each(function(){var c=d(this).closest(".standard-tabs, .swipe-tabs, .side-tabs"),b=c.children(".tabs"),g=b.children().children('a[href^="#"]'),f=g.parent(),h=c.children(".tabs-content"),m=h.children(".tabs-back"),n,l,j=!1,p=d(),k=!1,e=[],q=0;d.template.ie7&&(g=d(),b.children().children("a").each(function(){-1<this.href.indexOf("#")&&(g=g.add(this))}),f=g.parent());if(!(0===c.length||0===b.length||0===g.length||0===h.length)){a=a.add(c);0===m.length&&(m=d('<span class="tabs-back with-left-arrow top-bevel-on-light dark-text-bevel">Back</span>').prependTo(h).click(function(){var a=
h.children(".tab-active:first").children(".inner-tabs.tab-opened");if(0<a.length&&(a=a.children(".tabs-content").children(".tabs-back"),0<a.length)){a.click();return}c.removeClass("tab-opened");c.height(b.outerHeight())}).applySetup(!0,!0));m=c.tempShow();(n=c.hasClass("same-height"))&&c.css("min-height",c.height()+"px");l=f.filter(".active:first");0===l.length&&(l=f.not(".disabled").first());0<l.length&&(f=l.addClass("active").children("a").attr("href"),j=f.substring(f.indexOf("#")+1));g.each(function(a){var b=
this.href,c=d(b.substring(b.indexOf("#")));0<c.length&&(p=p.add(c.show()),n&&(b=c.css("height","").outerHeight(),c=Math.min(0,c.children(":first").parseCSSValue("margin-top")),q=Math.max(q,b+c),e[a]=[b,c]))});n&&p.each(function(a){var b=d(this),c=e[a][1];b.height(q-(e[a][0]-b.height())-c)});p.each(function(){var a=d(this),b=a.hasClass("tab-active");this.id!=j?(b&&a.removeClass("tab-active").trigger("hidetab"),a.hide()):b||(k=a.addClass("tab-active"))});k&&(k.data("tabshown")||(k.trigger("showtabinit"),
k.data("tabshown",!0)),k.trigger("showtab"));f=b.height();h.css("min-height",f-1);if(c.hasClass("side-tabs"))c[h.height()===f-1?"addClass":"removeClass"]("tabs-fullheight");c.height(c.hasClass("tab-opened")?h.outerHeight():f);n&&c.css("min-height","");m.tempShowRevert()}});e||(b=a.parent().closest(".standard-tabs, .swipe-tabs, .side-tabs").filter(".same-height").not(a),0<b.length&&b.refreshTabs());return this};d.fn.addTab=function(a,b,c,e){this.each(function(){var g=d(this).closest(".standard-tabs, .swipe-tabs, .side-tabs"),
f=g.children(".tabs"),h=g.children(".tabs-content");0===g.length||(0===f.length||0===h.length)||(d('<li><a href="#'+a+'">'+b+"</a></li>").appendTo(f).prev().removeClass("last-child"),h.append('<div id="'+a+'"'+(e?"":' class="with-padding"')+">"+c+"</div>"),g.refreshTabs())});return this};d.fn.removeTab=function(){this.each(function(){var a=d(this),b=a.closest(".tabs, .tabs-content"),c=b.hasClass("tabs"),e=b.closest(".standard-tabs, .swipe-tabs, .side-tabs");if(!(0===b.length||0===e.length)){if(c){a=
a.is("a")?a:a.children("a");b=a.attr("href");if(0===a.length||0>b.indexOf("#"))return;d(b.substring(b.indexOf("#"))).remove();d.template.ie7&&a.parent().prev().addClass("last-child");a.parent().remove()}else{for(;0<a.length&&!a.parent().hasClass("tabs-content");)a=a.parent();d.template.ie7?e.children(".tabs").children().children("a").each(function(){-1<this.href.indexOf("#")&&this.href.split("#")[1]==a.attr("id")&&d(this).parent().prev().addClass("last-child").next().remove()}):e.children(".tabs").find('a[href="#'+
a.attr("id")+'"]').parent().remove();a.remove()}e.refreshTabs()}});return this};d.fn.showTab=function(){this.each(function(){var a=d(this),b=a.closest(".tabs-content");0!==b.length&&(a=a.parent().hasClass("tabs-content")?a:a.parentsUntil(b).last(),d('a[href="#'+a[0].id+'"]').click())});return this};d.template.addSetupFunction(function(a,b){e=!0;d(this.findIn(a,b,".standard-tabs, .swipe-tabs, .side-tabs").get().reverse()).addClass("tabs-active").refreshTabs();e=!1;return this});j.on("normalized-resize",
function(){d(d(".standard-tabs, .swipe-tabs, .side-tabs").get().reverse()).refreshTabs()})})(jQuery,window,document);