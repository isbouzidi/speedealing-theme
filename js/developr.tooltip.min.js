(function(e,P,I){function B(c){return c instanceof jQuery||"function"===typeof c||"string"===typeof c&&0<e.trim(c).length}function M(c,b){var g;if(B(c))return c;c=b.data("tooltip-content");if(B(c))return b[0].title&&b[0].title.length&&(b[0].title="",b.data("tooltip-title",{value:c,element:b[0]})),c;if(g=b.data("tooltip-title"))return g.value;if(b[0].title&&0<e.trim(b[0].title).length)return c=b[0].title,b[0].title="",b.data("tooltip-title",{value:c,element:b[0]}),c;g=b.children();return 1===g.length&&
g[0].title&&0<e.trim(g[0].title).length?(c=g[0].title,g[0].title="",b.data("tooltip-title",{value:c,element:g[0]}),c):!1}function N(c){var b=c.data("tooltip-title");b&&(b.element.title=b.value,c.removeData("tooltip-title"))}e(P);var s=e(I),D=!1,J=!1,K=!1;e.fn.tooltip=function(c,b){var g=e.extend({},e.fn.tooltip.defaults,b),p=!1;"object"===typeof c&&!(c instanceof jQuery)&&(b=c,c="");if(!b||"object"!==typeof b)p=!0,b={};this.each(function(){var f=e(this),t=f.data("replaced"),h=f.data("tooltip-options")||
(t?t.data("tooltip-options")||{}:{}),k=f.data("tooltip-awaiting"),w=!1,u,v,E;if(!e.isReady||!b.ignoreDelay&&(0<b.delay||0<h.delay)){var t=h.delay||b.delay||40,x=b,B,C;c=M(c,f);if(k){if(!1===k.abort())return;p&&(x=e.extend({},k.options))}x.removeOnMouseleave&&(u=function(){C()},f.on("mouseleave",u));x.removeOnBlur&&(v=function(){C()},s.on("click touchend",v));C=function(c,b){if(x.onAbort&&!1===a.onAbort.call(l[0],f)&&!c)return!1;clearTimeout(B);f.removeData("tooltip-awaiting");u&&f.off("mouseleave",
u);v&&s.off("click touchend",v);b||N(f)};f.data("tooltip-awaiting",{options:x,abort:C});B=setTimeout(function(){C(!1,!0);f.tooltip(c,e.extend(x,{ignoreDelay:!0}))},t)}else{var F=f.data("tooltip"),w={},t=!1,G={},a,r,l,m,n,O=!1,H,y,z,A,L;if(F){if(F.settings.lock&&(p||!b.fromAjax)||!1===F.removeTooltip(!1,!0))return;p&&(w=F.settings);t=!0}if(k){if(k.options.lock||!1===k.abort())return;p&&(G=k.options)}!b.position&&(!w.position&&!G.position)&&(k=f.closest(".tooltip-top, .tooltip-right, .tooltip-bottom, .tooltip-left"),
0<k.length&&(G.position=/tooltip-(top|right|bottom|left)/.exec(k[0].className)[1]));a=e.extend({},g,h,w,G);a.ajax&&!a.fromAjax&&(w="object"===typeof a.ajax?a.ajax:e.ajax(a.ajax,a.ajaxOptions),a.fromAjax=!0,w.done(function(c){f.data("tooltip")&&f.tooltip(c,a)}),w.fail(function(){f.data("tooltip")&&f.tooltip(a.ajaxErrorMessage,a)}));"function"===typeof c&&(c=c.apply(this));c=M(c,f);if(!1!==c){c instanceof jQuery&&(n=c,c="");if(a.local){for(r=f.parent();!r.is("body")&&"block"!==r.css("display");)r=r.parent();
"absolute"!==r.css("position")&&"fixed"!==r.css("position")&&r.addClass("relative")}else 0<f.closest(".notification, .modal").length?(K||(K=e('<div id="tooltips-over"></div>').appendTo(I.body)),h=K):(J||(J=e('<div id="tooltips"></div>').appendTo(I.body)),h=J),r=h;animateDistance=a.animate&&!t?a.animateMove:0;if(!(a.exclusive&&D&&!1===D.removeTooltip(!1,!0))){h=a.noPointerEvents?" no-pointer-events":"";l=e('<div class="message tooltip '+a.classes.join(" ")+h+'">'+c+"</div>").appendTo(r).data("tooltip-target",
f);n&&(n.is(":visible")||(O=!0,n.show()),0<n.parent().length&&(H=e('<span style="display:none"></span>').insertBefore(n),n.detach()),l.append(n));switch(a.position.toLowerCase()){case "right":m=e('<span class="block-arrow left"><span></span></span>').appendTo(l);y=m.parseCSSValue("margin-top");break;case "bottom":m=e('<span class="block-arrow top"><span></span></span>').appendTo(l);y=m.parseCSSValue("margin-left");break;case "left":m=e('<span class="block-arrow right"><span></span></span>').appendTo(l);
y=m.parseCSSValue("margin-top");break;default:m=e('<span class="block-arrow"><span></span></span>').appendTo(l),y=m.parseCSSValue("margin-left")}k=function(){var c=f.offset(),b=f.outerWidth(),g=f.outerHeight(),h=l.outerWidth(),k=l.outerHeight(),p=e.template.viewportWidth,n=e.template.viewportHeight,j,d,q=0;switch(a.position){case "right":j=c.top+Math.round(g/2)-Math.round(k/2);d=c.left+b+a.spacing;d+h>p-a.screenPadding?(d=c.left-h-a.spacing,animateDistance*=-1,m.removeClass("left").addClass("right")):
m.removeClass("right").addClass("left");j<a.screenPadding+s.scrollLeft()?(b=a.screenPadding-j,q=-Math.min(b,Math.round(k/2)-a.arrowMargin),j+=b):j+k>n-a.screenPadding&&(b=n-a.screenPadding-k-j,q=Math.min(-b,Math.round(k/2)-a.arrowMargin),d+=b);d-=animateDistance;break;case "bottom":j=c.top+g+a.spacing;d=c.left+Math.round(b/2)-Math.round(h/2);d<a.screenPadding?(b=a.screenPadding-d,q=-Math.min(b,Math.round(h/2)-a.arrowMargin),d+=b):d+h>p-a.screenPadding&&(b=p-a.screenPadding-h-d,q=Math.min(-b,Math.round(h/
2)-a.arrowMargin),d+=b);j+k>n-a.screenPadding+s.scrollTop()?(j=c.top-k-a.spacing,animateDistance*=-1,m.removeClass("top").addClass("bottom")):m.removeClass("bottom").addClass("top");j-=animateDistance;break;case "left":j=c.top+Math.round(g/2)-Math.round(k/2);d=c.left-h-a.spacing;d<a.screenPadding+s.scrollLeft()?(d=c.left+b+a.spacing,animateDistance*=-1,m.removeClass("right").addClass("left")):m.removeClass("left").addClass("right");j<a.screenPadding?(b=a.screenPadding-j,q=-Math.min(b,Math.round(k/
2)-a.arrowMargin),j+=b):j+k>n-a.screenPadding&&(b=n-a.screenPadding-k-j,q=Math.min(-b,Math.round(k/2)-a.arrowMargin),d+=b);d+=animateDistance;break;default:j=c.top-k-a.spacing,d=c.left+Math.round(b/2)-Math.round(h/2),d<a.screenPadding?(b=a.screenPadding-d,q=-Math.min(b,Math.round(h/2)-a.arrowMargin),d+=b):d+h>p-a.screenPadding&&(b=p-a.screenPadding-h-d,q=Math.min(-b,Math.round(h/2)-a.arrowMargin),d+=b),j<a.screenPadding+s.scrollTop()?(j=c.top+g+a.spacing,animateDistance*=-1,m.removeClass("bottom").addClass("top")):
m.removeClass("top").addClass("bottom"),j+=animateDistance}a.local?(c=r.offset(),j-=c.top,d-=c.left,l.css({top:j+"px",left:d+"px"})):l.offset({top:j,left:d});"left"===a.position||"right"===a.position?m.css("margin-top",0===q?"":y+q+"px"):m.css("margin-left",0===q?"":y+q+"px")};l.trackElement(f,k);if(a.animate){h={opacity:1};z={opacity:0};if(0!==animateDistance){switch(a.position){case "right":h.left="+="+animateDistance+"px";z.left="-="+animateDistance+"px";break;case "bottom":h.top="+="+animateDistance+
"px";z.top="-="+animateDistance+"px";break;case "left":h.left="-="+animateDistance+"px";z.left="+="+animateDistance+"px";break;default:h.top="-="+animateDistance+"px",z.top="+="+animateDistance+"px"}animateDistance=0}t||l.css({opacity:0}).animate(h,a.animateSpeed)}A=function(b,c){if(a.onRemove&&!1===a.onRemove.call(l[0],f)&&!b)return!1;u&&f.off("mouseleave",u);v&&s.off("click touchend",v);E&&l.off("click touchend",E);f.removeData("tooltip");a.exclusive&&(D=!1);a.animate&&!c?l.addClass("tooltip-removed").animate(z,
a.animateSpeed,L):L();return!0};L=function(){N(f);H&&(n.detach().insertAfter(H),H.remove());O&&n.hide();l.remove()};f.data("tooltip",{element:l,settings:a,updatePosition:k,removeTooltip:A});a.exclusive&&(D={removeTooltip:A,dom:n});a.removeOnMouseleave&&(u=function(){A()},f.on("mouseleave",u));a.removeOnBlur&&(l.on("click touchend",function(a){a.stopPropagation()}),v=function(a){a.isDefaultPrevented()||A()},s.on("click touchend",v));a.removeOnClick&&!a.noPointerEvents&&(E=function(){A()},l.on("click touchend",
E));a.onShow&&a.onShow.call(l[0],f)}}}});return this};e.fn.removeTooltip=function(c,b){this.each(function(){var g=e(this),p=g.data("tooltip"),g=g.data("tooltip-awaiting");p&&!1===p.removeTooltip(c,b)||g&&g.abort(c)});return this};e.fn.menuTooltip=function(c,b,g){this.on(g||"click",function(g){g.preventDefault();g.stopPropagation();e(this).tooltip(c,e.extend({lock:!0,exclusive:!0,removeOnBlur:!0,noPointerEvents:!1},b))});return this};e.fn.tooltip.defaults={position:"top",local:!1,spacing:10,classes:[],
noPointerEvents:!0,lock:!1,exclusive:!1,animate:!0,animateMove:10,animateSpeed:"fast",delay:0,ajax:null,ajaxOptions:{},ajaxErrorMessage:"Error while loading data",screenPadding:10,arrowMargin:10,removeOnMouseleave:!1,removeOnBlur:!1,removeOnClick:!1,onShow:null,onRemove:null,onAbort:null};if(!Modernizr||!Modernizr.touch)s.on("mouseenter",".with-tooltip, .children-tooltip > *",function(){var c=e(this),b=c.parent(),g={delay:100,removeOnMouseleave:!0};b.hasClass("children-tooltip")&&(g=e.extend(g,b.data("tooltip-options")));
c.tooltip(g)})})(jQuery,window,document);