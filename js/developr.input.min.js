(function(d,M,D,F){function G(a){var b=a.data("number-options"),c;if(!b||!b.formatted)b=d.extend({},d.fn.setNumber.defaults,b),"number"!==typeof b.min&&(b.min=null),"number"!==typeof b.max&&(b.max=null),null!==b.min&&null!==b.max&&b.min>b.max&&(c=b.max,b.max=b.min,b.min=c),b.precision||(b.precision=1),b.formatted=!0,a.data("number-options",b);return b}function H(a,b){"number"!==typeof a&&(b.thousandsSep.length&&(a=a.replace(b.thousandsSep,"")),"."!==b.decimalPoint&&(a=a.replace(b.decimalPoint,".")),
a=parseFloat(a),isNaN(a)&&(a=0));return a}function I(a,b){var c;a=H(a,b);a=Math.round(a/b.precision)*b.precision;null!==b.min&&(a=Math.max(a,b.min));null!==b.max&&(a=Math.min(a,b.max));c=a.toString().split(".");b.thousandsSep.length&&3<c[0].length&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,b.thousandsSep));return c.join(b.decimalPoint)}function C(a){a=a[0].nodeName.toLowerCase();return"input"===a||"select"===a||"textarea"===a||"button"===a}function A(a,b,c){var f=a.data("replaced"),g=a.data("select-settings")||
{},k=a.children(".drop-down"),h,m,l=[],n,q,w,y,j,r,u,J=!1,x=!1,B,v;(new Date).getTime();var t,s,p;c&&c.preventDefault();if(!(0<a.closest(".disabled").length||f&&f.is(":disabled")))if(!f||f.is(":hidden"))if(f&&(c=f.attr("form"),h=!c||""===c?f.closest("form"):d("#"+c)),!a.hasClass("open")&&0<k.length){n=a.parents(".custom-scroll");0<a.closest(".modal, .notification, .tooltip").length&&a.addClass("over");t=d.template.disableDOMWatch();selectOffset=a.offset();c=a.is(":focus");m=d('<span class="'+a[0].className+
'" style="width: '+a.width()+'px !important; -webkit-box-shadow: none !important; -moz-box-shadow: none !important; box-shadow: none !important;"></span>').insertBefore(a).append(a.children(".select-value").clone());a.hasClass("full-width")&&(a.css({width:a.width()+"px"}),J=!0);a.is(".glossy")||(f=a.closest(".glossy"),0<f.length&&l.push("glossy"));a.is(".compact")||(f=a.parent(".compact"),0<f.length&&l.push("compact"));0<l.length&&a.addClass(l.join(" "));a.detach().appendTo(D.body).trackElement(m);
t&&d.template.enableDOMWatch();c&&a.focus();a.removeClass("reversed").trigger("select-prepare-open").addClass("open").trigger("select-open").on("click",K);if(!a.hasClass("auto-open")&&(!0===g.searchField||null===g.searchField&&k.children("a, span").length>=g.searchIfMoreThan))x=d('<span class="select-search"></span>').appendTo(a),B=d("<span>"+g.searchText+"</span>").appendTo(x),v=d('<input type="text" value="">').appendTo(x),x.on("keydown click touchend",function(a){a.stopPropagation()}),v.focus(function(){a.addClass("focus")}).blur(function(){a.removeClass("focus")}).keyup(function(){var a;
0===d.trim(v.val()).length?(k.children().show(),B.fadeIn()):(B.hide(),a=RegExp(d.trim(v.val()).toLowerCase(),"g"),k.children("a, span").each(function(){var c=d(this);d.trim(c.text().toLowerCase()).match(a)?c.show():c.hide()}))});d.fn.customScroll&&(k.hasCustomScroll()||k.customScroll({padding:4,showOnHover:!1,usePadding:!0}));w=k.removeClass("reversed").position().top;j=k.outerHeight();r=j-k.height();s=function(){var c;j=k.css("max-height","").outerHeight();q=a.offset().top-z.scrollTop();y=z.height();
if(q+w+j>y)if(0<q-w-j)a.addClass("reversed");else{if(q>0.6*y?(a.addClass("reversed"),u=q):(a.removeClass("reversed"),u=y-q-w),u-=r,k.css({maxHeight:u-10+"px"}),c=a.data("scrollPosition"))k[0].scrollTop=c}else a.removeClass("reversed");a.removeData("scrollPosition");d.fn.customScroll&&k.refreshCustomScroll()};p=function(){z.off("resize",s);e.off("scroll",p);h&&h.off("submit",p);n.off("scroll",p);b&&!d.template.touchOs?a.off("mouseleave",p):e.off("touchend click",p);a.removeData("selectCloseFunction");
var c=a.is(":focus");x&&(v.is(":focus")&&(c=!0),x.remove(),k.children().show());J&&a.css({width:""});0<l.length&&a.removeClass(l.join(" "));a.data("scrollPosition",k[0].scrollTop);t=d.template.disableDOMWatch();a.stopTracking(!0).off("click",K).removeClass("over").detach().insertAfter(m).trigger("select-prepare-close").removeClass("open").trigger("select-close");m.remove();t&&d.template.enableDOMWatch();c&&a.focus()};a.data("selectCloseFunction",p);s();z.on("resize",s);e.on("scroll",p);if(h)h.on("submit",
p);n.on("scroll",p);if(b&&!d.template.touchOs)a.on("mouseleave",p);else e.on("click",p)}}function K(a){a.preventDefault()}function E(){var a=d(this),b=a.children(".drop-down"),c=a.data("replaced"),f=a.hasClass("check-list")?'<span class="check"></span>':"",g;0<b.length&&c&&(g=d.template.disableDOMWatch(),b.empty(),c.find("option, optgroup").each(function(){var a=[],c="option"===this.nodeName.toLowerCase(),g=c?"span":"strong",e=c?d(this).text():this.label;c&&(this.selected&&a.push("selected"),"optgroup"===
this.parentNode.nodeName.toLowerCase()&&a.push("in-group"),this.disabled&&a.push("disabled"));0===e.length&&(e="&nbsp;");d("<"+g+(0<a.length?' class="'+a.join(" ")+'"':"")+">"+f+e+"</"+g+">").appendTo(b).data("select-value",this)}),b.children("span").not(".disabled").on("touchend click",N),g&&d.template.enableDOMWatch(),a.off("select-prepare-open",E))}function N(a){if(d.template.processTouchClick(this,a)){var b=d(this),c=b.parent(),f=c.parent(),g=f.data("replaced"),k=b.data("select-value"),h=g[0].multiple,
e;if(!c.data("touch-scrolling")&&g&&k)if(h&&(d.template.touchOs||a.ctrlKey||a.metaKey||f.hasClass("easy-multiple-selection"))){b=b.hasClass("selected");if(f.hasClass("allow-empty"))k.selected=!b,g.trigger("change");else if(!b||b&&(e=g.val())&&1<e.length)k.selected=!b,g.trigger("change");("touchend"===a.type||!f.hasClass("selectMultiple"))&&a.stopPropagation()}else{e=g.val();if(h&&(null===e||e===F))e=[];(h&&(1!==e.length||e[0]!==k.value)||!h&&e!==k.value)&&g.val(k.value).trigger("change")}}else a.stopPropagation()}
function s(a,b,c,d){c||(c=d);"string"===typeof c&&0===c.length&&(c="&nbsp;");"boolean"===typeof c?a.children(".select-value").removeClass("alt").html(0<b.length?b.join(", "):"&nbsp;"):a.children(".select-value").addClass("alt").html(c.replace("%d",b.length))}function L(a){selectedIndex=a[0].multiple?(val=a.val())&&1<val.length?!1:a[0].selectedIndex:a[0].selectedIndex;if(null===selectedIndex||selectedIndex===F)selectedIndex=-1;return selectedIndex}function O(){var a=d(this),b=a.data("replacement"),
c;b&&((c=b.data("checkableBlurFunction"))&&c(),this.tabIndex=select[0].tabIndex,a.detach().insertBefore(b).css("display",""),this.className=a.data("initial-classes"),a.removeData("initial-classes"),a.removeData("replacement"),b.remove())}function P(){var a=d(this),b=a.data("replacement"),c;b&&((c=b.data("selectCloseFunction"))&&c(),(c=b.data("selectBlurFunction"))&&c(),this.tabIndex=b[0].tabIndex,a.detach().insertBefore(b).css("display",""),this.className=a.data("initial-classes"),a.removeData("initial-classes"),
a.removeData("replacement"),d.fn.customScroll&&b.children(".drop-down").removeCustomScroll(),b.remove())}function Q(){var a=d(this),b=a.parent();b.hasClass("file")&&(a.detach().insertBefore(b),b.remove())}var z=d(M),e=d(D);d.fn.styleCheckable=function(a){var b=d.extend({},d.fn.styleCheckable.defaults,a);return this.each(function(){var a=d(this),f=d.extend({},b,a.data("checkable-options")),g=this.checked?" checked":"",k=this.disabled?" disabled":"",e=a.data("replacement"),m=this.title&&0<this.title.length?
' title="'+this.title+'"':"",l=0<this.tabIndex?this.tabIndex:0,n;e||(n=d.template.disableDOMWatch(),e=a.hasClass("switch")?d('<span class="'+this.className.replace(/validate\[.*\]/,"")+g+k+' replacement"'+m+' tabindex="'+l+'"><span class="switch-on"><span>'+(a.data("text-on")||f.textOn)+'</span></span><span class="switch-off"><span>'+(a.data("text-off")||f.textOff)+'</span></span><span class="switch-button"></span></span>'):d('<span class="'+this.className.replace(/validate\[.*\]/,"")+g+k+' replacement"'+
m+' tabindex="'+l+'"><span class="check-knob"></span></span>'),this.tabIndex=-1,e.insertAfter(a).data("replaced",a),a.data("replacement",e),a.addClearFunction(O),a.detach().appendTo(e).data("initial-classes",this.className),this.className=-1<this.className.indexOf("validate[")?this.className.match(/validate\[.*\]/)[0]:"",n&&d.template.enableDOMWatch())})};d.fn.styleCheckable.defaults={textOn:"ON",textOff:"OFF"};d.fn.styleSelect=function(a){var b=d.extend({},d.fn.styleSelect.defaults,a);return this.each(function(){var a=
d(this),f=d.extend({},b,a.data("select-options")),g=a.data("replacement"),e,h=0,m=this.disabled?" disabled":"",l=(this.multiple||a.hasClass("multiple"))&&!a.hasClass("multiple-as-single"),n=1<a.attr("size"),q=this.title&&0<this.title.length?' title="'+this.title+'"':"",w=0<this.tabIndex?this.tabIndex:0,y,j,r;if(!g){g=d.template.disableDOMWatch();e=a.tempShow();a.is(":hidden")&&a.show();y=a.width();e.tempShowRevert();a.hasClass("full-width")?h="":(""!==this.style.width&&"auto"!=this.style.width?h=
l?0:-26:(this.multiple?h=l?a.hasClass("check-list")?36:8:a.hasClass("check-list")?10:8:l&&(h=a.hasClass("check-list")?21:0),l&&n&&(h+=d.fn.customScroll?6:20),navigator.userAgent.match(/Safari/)&&!navigator.userAgent.match(/Chrome/)&&(h+=d.template.iPhone?6:23)),h=' style="width:'+(y+h)+'px"');if(l)j=d('<span class="'+this.className.replace(/validate\[.*\]/,"").replace(/(\s*)select(\s*)/,"$1selectMultiple$2")+m+' replacement"'+q+h+' tabindex="'+w+'"><span class="drop-down"></span></span>').insertAfter(a).data("replaced",
a),a.data("replacement",j),E.call(j),n&&!a.getStyleString().match(/height\s*:\s*[0-9]+/i)&&(m=j.children(".drop-down"),m.height(a.hasClass("check-list")?37*this.size-1:26*this.size),d.fn.customScroll&&m.customScroll({padding:4,showOnHover:!1,usePadding:!0}));else{j=d('<span class="'+this.className.replace(/validate\[.*\]/,"")+m+' replacement"'+q+h+' tabindex="'+w+'"><span class="select-value"></span><span class="select-arrow">'+(d.template.ie7?'<span class="select-arrow-before"></span><span class="select-arrow-after"></span>':
"")+'</span><span class="drop-down"></span></span>').insertAfter(a).data("replaced",a).on("select-prepare-open",E);r=[];a.find(":selected").each(function(){r.push(d(this).text())});if(this.multiple)switch(r.length){case 1:s(j,r,a.data("single-value-text"),f.singleValueText);break;case this.options.length:s(j,r,a.data("all-values-text"),f.allValuesText);break;default:s(j,r,a.data("multiple-values-text"),f.multipleValuesText)}else j.children(".select-value").html(0<r.length?r.join(", "):"&nbsp;");a.data("replacement",
j)}a.on("update-select-list",function(){E.apply(j[0])});this.tabIndex=-1;a.detach().appendTo(j).data("initial-classes",this.className);this.className=-1<this.className.indexOf("validate[")?this.className.match(/validate\[.*\]/)[0]:"";a.addClearFunction(P);j.data("select-settings",f);(l||this.multiple||f.styledList&&(!d.template.touchOs||d.template.touchOs&&(!0===f.styledOnTouch||null===f.styledOnTouch&&j.hasClass("check-list"))))&&a.hide();g&&d.template.enableDOMWatch()}})};d.fn.styleSelect.defaults=
{styledList:!0,styledOnTouch:null,openOnKeyDown:!0,noValueText:"",singleValueText:!1,multipleValuesText:"%d selected",allValuesText:"All",searchField:null,searchIfMoreThan:40,searchText:"Search"};d.fn.styleFile=function(a){var b=d.extend({},d.fn.styleFile.defaults,a);return this.each(function(){var a=d(this).addClass("file"),f=d.extend({},b,a.data("file-options")),g=a.hasClass("black-input")||0<a.closest(".black-inputs").length?" anthracite-gradient":"",e=!!this.multiple,h=this.disabled?" disabled":
"",m;a.parent().hasClass("file")||(m=d.template.disableDOMWatch(),styling=d('<span class="input '+this.className.replace(/validate\[.*\]/,"")+h+'"><span class="file-text">'+a.val()+'</span><span class="button compact'+g+'">'+(e?f.textMultiple:f.textSingle)+"</span></span>"),styling.insertAfter(a),a.addClearFunction(Q),a.detach().appendTo(styling),m&&d.template.enableDOMWatch())})};d.fn.styleFile.defaults={textSingle:"Select file",textMultiple:"Select files"};d.fn.setNumber=function(a){return this.each(function(){var b;
if("input"===this.nodeName.toLowerCase())b=d(this);else if(b=d(this).children("input:first"),0===b.length)return;b.val(I(a,G(b)))})};d.fn.incrementNumber=function(a,b){return this.each(function(){var c,f,g;if("input"===this.nodeName.toLowerCase())c=d(this);else if(c=d(this).children("input:first"),0===c.length)return;f=G(c);g=H(c.val(),f);isNaN(g)&&(g=0);g+=a?b?f.shiftIncrement:f.increment:b?-f.shiftIncrement:-f.increment;c.val(I(g,f))})};d.fn.setNumber.defaults={min:null,max:null,increment:1,shiftIncrement:10,
precision:1,decimalPoint:".",thousandsSep:""};d.fn.enableInput=function(){return this.each(function(){var a=d(this),b;if(C(a))a.prop("disabled",!1),(a=a.data("replacement"))&&a.removeClass("disabled");else if((b=a.data("replaced"))&&C(b))b.prop("disabled",!1),a.removeClass("disabled")})};d.fn.disableInput=function(){return this.each(function(){var a=d(this),b;if(C(a))a.prop("disabled",!0),(a=a.data("replacement"))&&a.addClass("disabled");else if((b=a.data("replaced"))&&C(b))b.prop("disabled",!0),
a.addClass("disabled")})};d.template.addSetupFunction(function(a,b){var c=this;c.findIn(a,b,"input.switch, input.checkbox, input.radio").each(function(){d(this).styleCheckable();a&&c.is(this)&&(c=c.add(this))});c.findIn(a,b,"label.button").children(":radio, :checkbox").each(function(){this.checked&&d(this).parent().addClass("active")});c.findIn(a,b,".file").filter('input[type="file"]').styleFile();Modernizr.input.placeholder||c.findIn(a,b,'input[placeholder][type!="password"]').each(function(){var a=
d(this),b=a.attr("placeholder");a.addClass("placeholder").attr("data-validation-placeholder",b);""===d.trim(a.val())&&a.val(b)});c.findIn(a,b,"select.select").each(function(){d(this).styleSelect();a&&c.is(this)&&(c=c.add(this))});return c});e.on("click","label",function(){var a=d(this),b=d("#"+this.htmlFor),c;if(0!==b.length)if(c=b.data("replacement"),(d.template.ie7||d.template.ie8)&&b.is(":checkbox, :radio"))if(c)c.trigger("click");else{if(a.hasClass("button")&&b.closest("label").is(a)&&!(0<b.closest(".disabled").length||
b.is(":disabled")))(b.is(":checkbox")||!b.prop("checked"))&&b.prop("checked",!b.prop("checked")).trigger("change")}else b.is("select")&&c&&b.is(":hidden")&&c.focus()});e.on("click","span.switch, span.radio, span.checkbox",function(a){var b=d(this),c=b.data("replaced");0!==c.length&&a.target!==c[0]&&(0<b.closest(".disabled").length||c.is(":disabled")||b.data("switch-dragged")||(c.is(":checkbox")||!c.prop("checked"))&&c.prop("checked",!c.prop("checked")).trigger("change"))});e.on("mousedown touchstart",
"span.switch",function(a){function b(a){a=Math.max(0,Math.min(v,y+((t?a.originalEvent.touches[0]:a).pageX-C)));z=a>v/2?!k:k;k?(h.css("right",v-a-n+"px"),u.css("right",x-a-q+"px"),s.css("margin-left",-(v-a+w)+"px"),j.css("left",B+a-q+"px")):(h.css("left",a-n+"px"),j.css("right",x-a-q+"px"),r.css("margin-left",-(v-a+w)+"px"),u.css("left",B+a-q+"px"));A=!0}function c(){e.off(t?"touchmove":"mousemove",b);e.off(t?"touchend":"mouseup",c);f.removeClass("dragging");k?(h.css("right",""),u.css("right",""),
s.css("margin-left",""),j.css("left","")):(h.css("left",""),j.css("right",""),r.css("margin-left",""),u.css("left",""));D.onselectstart=p?p:null;A?(g.prop("checked")!=z&&g.prop("checked",z).change(),f.data("switch-dragged",!0),setTimeout(function(){f.removeData("switch-dragged")},40)):t&&f.click()}var f=d(this),g=f.data("replaced"),k=0<f.closest(".reversed-switches").length,h=f.children(".switch-button"),m=f.hasClass("mini"),l=f.hasClass("tiny"),n=l?2:0,q=(m||l?7:4)+2*n,w=d.template.ie7&&!m&&!l?4:
0,y=h.position().left,j=f.children(".switch-on"),r=j.children(),u=f.children(".switch-off"),s=u.children(),x=f.width(),B=h.outerWidth(!0),v=x-B+2*n,t="touchstart"===a.type,C=(t?a.originalEvent.touches[0]:a).pageX,p,A=!1,z;0!==g.length&&(!f.closest(".disabled").length&&!g.is(":disabled"))&&(a.preventDefault(),p=D.onselectstart,D.onselectstart=function(){return!1},f.addClass("dragging"),e.on(t?"touchmove":"mousemove",b),e.on(t?"touchend":"mouseup",c))});e.on("change",":radio, :checkbox",function(){var a=
d(this),b=a.data("replacement"),c=this.checked;if(b)b[c?"addClass":"removeClass"]("checked");else if(a.parent().is("label.button"))a.parent()[c?"addClass":"removeClass"]("active");"radio"===this.type&&d('input[name="'+this.name+'"]:radio').not(this).each(function(){var a=d(this),b=a.data("replacement");if(b)b[c?"removeClass":"addClass"]("checked");else if(a.parent().is("label.button"))a.parent()[c?"removeClass":"addClass"]("active");a.trigger("silent-change")})});e.on("focus","span.switch, span.radio, span.checkbox",
function(a){function b(){c.removeClass("focus");c.removeData("checkableBlurFunction");e.off("keydown",g);c.off("blur",b)}var c=d(this),f=c.data("replaced"),g=!1;0!==f.length&&(0<c.closest(".disabled").length||f.is(":disabled")?a.preventDefault():((d.template.ie7||d.template.ie8)&&e.find(".focus").not(c).blur(),c.addClass("focus"),g=function(a){if(a.keyCode==d.template.keys.space){if(!f.is(":radio")||!f[0].checked)f[0].checked=!f[0].checked,f.change();a.preventDefault()}},c.data("checkableBlurFunction",
b),c.on("blur",b),e.on("keydown",g)))});e.on("focus","textarea",function(){var a=d(this);(d.template.ie7||d.template.ie8)&&e.find(".focus").not(a).blur();a.addClass("focus")}).on("blur","textarea",function(){d(this).removeClass("focus")});e.on("focus","input",function(a){var b=d(this),c;0<b.closest(".disabled").length||b.is(":disabled")?a.preventDefault():"radio"===this.type||"checkbox"===this.type?(a=b.data("replacement"))&&a.addClass("focus"):((d.template.ie7||d.template.ie8)&&e.find(".focus").not(b).blur(),
!Modernizr.input.placeholder&&(b.attr("placeholder")&&b.val()===b.attr("placeholder"))&&b.removeClass("placeholder").val(""),a=b.closest(".input, .inputs"),0<a.length?(a.addClass("focus"),a.hasClass("number")&&(b.on("keydown.number",function(a){(38===a.which||40===a.which)&&b.incrementNumber(38===a.which,a.shiftKey)}),b.on("keyup.number",function(){var a=b.val();a!==c&&(b.trigger("change"),c=a)}))):b.addClass("focus"))}).on("blur","input",function(){var a=d(this),b;"radio"===this.type||"checkbox"===
this.type?(a=a.data("replacement"))&&a.removeClass("focus"):(!Modernizr.input.placeholder&&(a.attr("placeholder")&&""===a.val()&&"password"!=a.attr("type"))&&a.addClass("placeholder").val(a.attr("placeholder")),b=a.closest(".focus"),b.removeClass("focus"),b.hasClass("number")&&(a.off("keydown.number").off("keyup.number"),a.setNumber(a.val())))});if(!Modernizr.input.placeholder)e.on("submit","form",function(){d(this).find("input.placeholder").each(function(){var a=d(this);a.attr("placeholder")&&a.val()===
a.attr("placeholder")&&a.val("")})});e.on("change",'.file > input[type="file"]',function(){var a=d(this),b=[],c;if(this.multiple&&this.files){for(c=0;c<this.files.length;c++)b.push(this.files[c].name.split(/(\/|\\)/).pop());b=b.join(", ")}else b=a.val().split(/(\/|\\)/).pop();a.siblings(".file-text").text(b)});e.on("click",".number-up, .number-down",function(a){var b=d(this),c=b.parent().children("input:first");0!==c.length&&c.incrementNumber(b.hasClass("number-up"),a.shiftKey).focus().trigger("change")});
e.on("mousewheel",".number",function(a,b){d(this).incrementNumber(0<b,a.shiftKey).focus().trigger("change");a.preventDefault()});if(!d.template.touchOs)e.on("focus","select",function(){var a=d(this).data("replacement");a&&a.focus()});e.on("change","select",function(){var a=d(this),b=a.find(":selected"),c=a.data("replacement"),f=[],g,e;if(c)if(e=c.data("select-settings"),g=c.hasClass("selectMultiple"),0===b.length){if(!g){a=a.data("no-value-text")||e.noValueText;if(!a||0===a.length)a="&nbsp;";c.children(".select-value").addClass("alt").html(a)}(c.hasClass("open")||
g)&&c.children(".drop-down").children("a, span").removeClass("selected")}else{if(!g)if(b.each(function(){f.push(d(this).text())}),this.multiple)switch(f.length){case 1:s(c,f,a.data("single-value-text"),e.singleValueText);break;case this.options.length:s(c,f,a.data("all-values-text"),e.allValuesText);break;default:s(c,f,a.data("multiple-values-text"),e.multipleValuesText)}else c.children(".select-value").text(0<f.length?f.join(", "):"&nbsp;");c.children(".drop-down").children("a, span").each(function(){var a=
d(this),b=a.data("select-value");if(b)a[b.selected?"addClass":"removeClass"]("selected")})}});e.on("focus","span.select, span.selectMultiple",function(a){function b(a){(l=c.data("selectBlurTimeout"))?(c.removeData("selectBlurTimeout"),c.removeData("selectBlurFunction"),0===c.children(".select-search").children("input:focus").length&&c.removeClass("focus"),k.children(".focus").removeClass("focus"),e.off("keydown",h),c.off("blur",b)):c.data("selectBlurTimeout",setTimeout(function(){b.call(this,a)},
40))}if(a.target===this){var c=d(this),f=c.data("select-settings"),g=c.data("replaced"),k=c.children(".drop-down"),h,m="",l,n;0<c.closest(".disabled").length||g&&g.is(":disabled")?a.preventDefault():(l=c.data("selectBlurTimeout"))?(clearTimeout(l),c.removeData("selectBlurTimeout")):c.hasClass("focus")||(c.addClass("focus"),h=function(a){var b=d.template.keys,e,j,h,l;e=c.hasClass("easy-multiple-selection")?"focus":"selected";switch(a.keyCode){case b.tab:(b=c.data("selectCloseFunction"))&&b();break;
case b.up:if(c.hasClass("open")||c.hasClass("selectMultiple")){j=k.children("."+e+":first");b=0===j.length?k.children("a:last, span:last"):j.prevAll("a:first, span:first");if(0<b.length&&(j.removeClass(e),b.addClass(e).scrollToReveal(),"selected"===e&&g&&(h=b.data("select-value"))))g[0].multiple&&g.find("option:selected").prop("selected",!1),h.selected=!0,g.trigger("change");a.preventDefault()}else g&&(b=L(g),!1!==b&&0<b&&(g[0].selectedIndex=b-1),g.change(),a.preventDefault());break;case b.down:c.hasClass("select")&&
!c.hasClass("open")&&f.openOnKeyDown?(A(c),a.preventDefault()):c.hasClass("open")||c.hasClass("selectMultiple")?(j=k.children("."+e+":last"),b=0===j.length?k.children("a:first, span:first"):j.nextAll("a:first, span:first"),0<b.length&&(j.removeClass(e),b.addClass(e).scrollToReveal(),"selected"===e&&g&&(h=b.data("select-value"))&&g.val(h.value).trigger("change")),a.preventDefault()):g&&(b=L(g),!1!==b&&b<g[0].options.length-1&&(g[0].selectedIndex=b+1),g.change(),a.preventDefault());break;case b.enter:case b.space:if("focus"===
e&&(c.hasClass("selectMultiple")||c.hasClass("open")))j=k.children("."+e),1===j.length&&(a.preventDefault(),j.click());else if(c.hasClass("open")&&(b=c.data("selectCloseFunction")))b(),a.preventDefault();break;default:if((b=String.fromCharCode(a.keyCode))&&1===b.length)n&&clearTimeout(n),m+=b.toLowerCase(),l=RegExp("^"+m,"g"),n=setTimeout(function(){m=""},1500),c.hasClass("open")||c.hasClass("selectMultiple")?k.children("a, span").each(function(){var b=d(this);if(d.trim(b.text().toLowerCase()).match(l))return j=
k.children("."+e+":last"),j.removeClass(e),b.addClass(e).scrollToReveal(),"selected"===e&&g&&(h=b.data("select-value"))&&g.val(h.value).trigger("change"),a.preventDefault(),!1}):g&&g.find("option").each(function(){if(d.trim(d(this).text().toLowerCase()).match(l))return g.val(this.value).trigger("change"),a.preventDefault(),!1})}},c.data("selectBlurFunction",b),c.on("blur",b),e.on("keydown",h))}});if(d.template.touchOs)e.on("touchend",".select",function(a){A(d(this),!1,a)});else e.on("click",".select-arrow, span.select-value",
function(a){d(this).parent().hasClass("auto-open")||A(d(this).parent(),!1,a)}),e.on("mouseenter",".select.auto-open",function(a){A(d(this),!0,a)});e.on("jqv.form.validating","form",function(){var a=d(this),b=a.find("span.select > select, span.selectMultiple > select").filter(":hidden").show(),c=function(){b.hide();a.off("jqv.form.result",c)};a.on("jqv.form.result",c)})})(jQuery,window,document);